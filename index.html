<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"gravelgalaxy.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="燕山大学">
<meta property="og:type" content="website">
<meta property="og:title" content="Gravel Galaxy">
<meta property="og:url" content="https://gravelgalaxy.github.io/index.html">
<meta property="og:site_name" content="Gravel Galaxy">
<meta property="og:description" content="燕山大学">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="gravelGalaxy">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://gravelgalaxy.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Gravel Galaxy</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Gravel Galaxy</h1>
      <i class="logo-line"></i>
    </a>
      <img class="custom-logo-image" src="/uploads/gravelgalaxy.png" alt="Gravel Galaxy">
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">gravelGalaxy</p>
  <div class="site-description" itemprop="description">燕山大学</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2025/02/23/vscode-c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/23/vscode-c/" class="post-title-link" itemprop="url">vscode_c</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-02-23 17:26:51 / 修改时间：17:50:27" itemprop="dateCreated datePublished" datetime="2025-02-23T17:26:51+08:00">2025-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="在vscode中配置C-x2F-C"><a href="#在vscode中配置C-x2F-C" class="headerlink" title="在vscode中配置C&#x2F;C++"></a>在vscode中配置C&#x2F;C++</h1><h2 id="一-安装C-x2F-C-插件"><a href="#一-安装C-x2F-C-插件" class="headerlink" title="一.安装C&#x2F;C++插件"></a>一.安装C&#x2F;C++插件</h2><p>在VSCode中,C&#x2F;C++静态代码检查需要使用微软的C&#x2F;C++插件,C&#x2F;C++ Extension Pack插件,同时可以选择使用clangd插件.<br>在安装好后需要点击C&#x2F;C++的配置,修改Cpp Standard的值(“c_cpp_confuguration.json”)</p>
<h2 id="二-配置任务"><a href="#二-配置任务" class="headerlink" title="二.配置任务"></a>二.配置任务</h2><p>点击终端-&gt;配置任务…,如果有C&#x2F;C++的任务就选择该任务,没有的话选择other的模板.一般都是有的,如果没有的话看看编译器是否安装好了,比如安装的clang++,查看clang++ -v 得到g++最高版本,看看这个g++最高版本有没有安装.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	&quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">	&quot;tasks&quot;: [</span><br><span class="line">		&#123;</span><br><span class="line">			&quot;type&quot;: &quot;cppbuild&quot;,</span><br><span class="line">			&quot;label&quot;: &quot;Build with clang&quot;,</span><br><span class="line">			&quot;command&quot;: &quot;/usr/bin/clang++&quot;,</span><br><span class="line">			&quot;args&quot;: [</span><br><span class="line">				&quot;-g&quot;,</span><br><span class="line">				&quot;-std=c++20&quot;,</span><br><span class="line">				&quot;$&#123;workspaceFolder&#125;/*.cpp&quot;,</span><br><span class="line">				&quot;-o&quot;,</span><br><span class="line">				&quot;$&#123;fileDirname&#125;/rooster&quot;</span><br><span class="line">			],</span><br><span class="line">			&quot;options&quot;: &#123;</span><br><span class="line">				&quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;</span><br><span class="line">			&#125;,</span><br><span class="line">			&quot;problemMatcher&quot;: [</span><br><span class="line">				&quot;$gcc&quot;</span><br><span class="line">			],</span><br><span class="line">			&quot;group&quot;: &quot;build&quot;,</span><br><span class="line">			&quot;detail&quot;: &quot;compiler: /usr/bin/clang++&quot;</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="运行任务"><a href="#运行任务" class="headerlink" title="运行任务"></a>运行任务</h2><p>配置好后点击终端-&gt;运行任务,选择刚配置的任务即可运行.</p>
<h2 id="执行和调制"><a href="#执行和调制" class="headerlink" title="执行和调制"></a>执行和调制</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2024/04/01/constexpr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/04/01/constexpr/" class="post-title-link" itemprop="url">constexpr</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-04-01 10:58:43 / 修改时间：11:02:45" itemprop="dateCreated datePublished" datetime="2024-04-01T10:58:43+08:00">2024-04-01</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="constexpr-修饰常量表达式"><a href="#constexpr-修饰常量表达式" class="headerlink" title="constexpr 修饰常量表达式"></a>constexpr 修饰常量表达式</h1><h2 id="constexpr可以修饰static变量。"><a href="#constexpr可以修饰static变量。" class="headerlink" title="constexpr可以修饰static变量。"></a>constexpr可以修饰static变量。</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">static constexpr QLatin1StringView name = QLatin1StringView(&quot;qtFileMenu&quot;);</span><br></pre></td></tr></table></figure>
<p>这样，name的值在编译时确定，并且保存到静态存储区。</p>
<h2 id="constexpr修饰函数时，函数会根据参数是不是常量表达式来判断函数是不是常量表达式。"><a href="#constexpr修饰函数时，函数会根据参数是不是常量表达式来判断函数是不是常量表达式。" class="headerlink" title="constexpr修饰函数时，函数会根据参数是不是常量表达式来判断函数是不是常量表达式。"></a>constexpr修饰函数时，函数会根据参数是不是常量表达式来判断函数是不是常量表达式。</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">constexpr int test(int cnt) &#123;</span><br><span class="line">    return 3 * cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">test(2); // 是常量表达式。</span><br><span class="line">int i = 3;</span><br><span class="line">test(i); // 不是常量表达式，不会在编译时确定。</span><br><span class="line">constexpr int j = 4;</span><br><span class="line">test(j); // 常量表达式</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2024/01/25/enum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/25/enum/" class="post-title-link" itemprop="url">enum</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-01-25 16:19:55 / 修改时间：16:20:50" itemprop="dateCreated datePublished" datetime="2024-01-25T16:19:55+08:00">2024-01-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">enum &#123;</span><br><span class="line">isSpecialized = std::is_enum&lt;T&gt;::value, // don&#x27;t require every enum to be marked manually</span><br><span class="line">isPointer = false,</span><br><span class="line">isIntegral = std::is_integral&lt;T&gt;::value,</span><br><span class="line">isComplex = !qIsTrivial&lt;T&gt;(),</span><br><span class="line">isStatic = true,</span><br><span class="line">isRelocatable = qIsRelocatable&lt;T&gt;(),</span><br><span class="line">isLarge = (sizeof(T)&gt;sizeof(void*)),</span><br><span class="line">isDummy = false, </span><br><span class="line">sizeOf = sizeof(T)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2024/01/15/graphics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/15/graphics/" class="post-title-link" itemprop="url">graphics</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-01-15 10:22:04 / 修改时间：12:00:20" itemprop="dateCreated datePublished" datetime="2024-01-15T10:22:04+08:00">2024-01-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Graphics-View-架构的组成"><a href="#Graphics-View-架构的组成" class="headerlink" title="Graphics View 架构的组成"></a>Graphics View 架构的组成</h1><p>场景、视图、图形项</p>
<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>QGraphicsScene类：管理图形项的容器。</p>
<ol>
<li>提供管理大量图形项的快速接口。</li>
<li>将事件传播给每个图形项。</li>
<li>管理每个图形项的状态，（选择状态，焦点状态等）</li>
<li>管理未经变换的渲染功能（打印）。</li>
</ol>
<p>场景也分背景层和前景层，可以用来实现自定义的背景和前景。</p>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p>QGraphicsView类：显示场景中的内容。</p>
<ul>
<li>场景视图：可以为一个场景设置几个不同的视图，对同一个数据集提供不同的视口。</li>
<li>场景事件：视图接收键盘和鼠标输入并转换为场景事件，并进行坐标转换后传送给可视场景。</li>
</ul>
<h3 id="坐标系统"><a href="#坐标系统" class="headerlink" title="坐标系统"></a>坐标系统</h3><p>包括图形项坐标、场景坐标、视图坐标。</p>
<h4 id="图形项坐标-Item-Coordinates"><a href="#图形项坐标-Item-Coordinates" class="headerlink" title="图形项坐标 Item Coordinates"></a>图形项坐标 Item Coordinates</h4><p>局部逻辑坐标，一般以图件的<code>中心</code>为原点。</p>
<ul>
<li>自定义图形项：绘制图形项时只需要考虑局部坐标。</li>
<li>图形项的坐标：中心点在父坐标系统中的坐标。</li>
</ul>
<h4 id="场景坐标"><a href="#场景坐标" class="headerlink" title="场景坐标"></a>场景坐标</h4><p>等价于QPainter的逻辑坐标。一般以场景的<code>中心</code>为原点。</p>
<ul>
<li>所有图形项的基础坐标。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scene = new QGraphicsScene(-400, -300, 800, 600);</span><br></pre></td></tr></table></figure></li>
<li>边界矩阵：可以使QGraphicsScene知道场景的哪个区域发生了变化。<blockquote>
<p>场景发生变化时会发射QGraphicsScene::changed()信号，参数是一个场景的矩形列表，表示发生变化的矩形区。</p>
</blockquote>
</li>
</ul>
<h4 id="视图坐标"><a href="#视图坐标" class="headerlink" title="视图坐标"></a>视图坐标</h4><p>等价于设备坐标（物理坐标），缺省是以<code>左上角</code>为原点。</p>
<ul>
<li>视图坐标只与widget或viewport有关，而与观察的场景无关。viewport左上角的坐标总是（0, 0）。</li>
<li>所有的鼠标事件、拖放事件的坐标首先是由视图坐标定义的。之后需要映射为场景坐标，以便于图形项交互。</li>
</ul>
<h4 id="坐标映射-Coordinate-Mapping"><a href="#坐标映射-Coordinate-Mapping" class="headerlink" title="坐标映射 Coordinate Mapping"></a>坐标映射 Coordinate Mapping</h4><p>场景 –&gt; 图形项<br>图形项 –&gt; 图形项<br>视图 –&gt; 场景</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QGraphicsView::mapToScene();    // 将视图坐标映射为场景坐标</span><br><span class="line">QGraphicsScene::itemAt();       // 获取场景中鼠标光标处的图形项</span><br></pre></td></tr></table></figure>

<h2 id="图形项"><a href="#图形项" class="headerlink" title="图形项"></a>图形项</h2><p>QGraphicsItem类：图形项的基类。</p>
<ol>
<li>支持鼠标事件相应。</li>
<li>支持键盘输入、按键事件。</li>
<li>支持拖放操作。</li>
<li>支持组合，可以是父子项关系的组合，也可以是通过QGraphicsItemGroup类进行组合。</li>
<li>支持碰撞检测。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setZValue();    //控制图形项的叠放次序，当有多个图形项重叠时，zValue越大的，越显示在前面。</span><br></pre></td></tr></table></figure>

<h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">void Widget::initGraphicsSystem()</span><br><span class="line">&#123;</span><br><span class="line">    // 创建一个可选中的，可以作为焦点的矩形</span><br><span class="line">    QRectF rect(-200, -100, 400, 200);  //以中心为(0, 0)</span><br><span class="line">    scene = new QGraphicsScene(rect);</span><br><span class="line">    view-&gt;setScene(scene);</span><br><span class="line">    QGraphicsRectItem *item = new QGraphicsRectItem(rect);</span><br><span class="line">    item-&gt;setFlags(QGraphicsItem::ItemIsSelectable | QGraphicsItem::ItemIsFocusable);</span><br><span class="line"></span><br><span class="line">    QPen pen;</span><br><span class="line">    pen.setWidth(2);</span><br><span class="line">    item-&gt;setPen(pen);</span><br><span class="line">    scene-&gt;addItem(item);</span><br><span class="line"></span><br><span class="line">    // 创建一个可移动、可选中、可以作为焦点的椭圆</span><br><span class="line">    QGraphicsEllipseItem *item2 = new QGraphicsEllipseItem(-100, -50, 200, 100);</span><br><span class="line">    item2-&gt;setPos(0, 0);</span><br><span class="line">    item2-&gt;setBrush(QBrush(Qt::blue));</span><br><span class="line">    item2-&gt;setFlags(QGraphicsItem::ItemIsMovable</span><br><span class="line">                    | QGraphicsItem::ItemIsSelectable</span><br><span class="line">                    | QGraphicsItem::ItemIsFocusable</span><br><span class="line">                    );</span><br><span class="line">    scene-&gt;addItem(item2);</span><br><span class="line">    scene-&gt;clearSelection();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2024/01/14/bugs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/14/bugs/" class="post-title-link" itemprop="url">Bugs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-14 09:52:29" itemprop="dateCreated datePublished" datetime="2024-01-14T09:52:29+08:00">2024-01-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 10:03:33" itemprop="dateModified" datetime="2024-04-10T10:03:33+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="QtCreator"><a href="#QtCreator" class="headerlink" title="QtCreator"></a>QtCreator</h1><h2 id="在QtCreator-FileSystem中删除当前项目后无法创建与该项目同名的项目。"><a href="#在QtCreator-FileSystem中删除当前项目后无法创建与该项目同名的项目。" class="headerlink" title="在QtCreator FileSystem中删除当前项目后无法创建与该项目同名的项目。"></a>在QtCreator FileSystem中删除当前项目后无法创建与该项目同名的项目。</h2><ul>
<li>此时关闭QtCreator后，又会出现被删除的项目文件夹，但是该文件夹中只剩CMakeList.txt</li>
</ul>
<h2 id="打开多个项目时，如果编辑ui-使用resources时可能会使用别的项目的qrc-而属于本项目的qrc却没有显示。"><a href="#打开多个项目时，如果编辑ui-使用resources时可能会使用别的项目的qrc-而属于本项目的qrc却没有显示。" class="headerlink" title="打开多个项目时，如果编辑ui,使用resources时可能会使用别的项目的qrc,而属于本项目的qrc却没有显示。"></a>打开多个项目时，如果编辑ui,使用resources时可能会使用别的项目的qrc,而属于本项目的qrc却没有显示。</h2><h2 id="qmodel"><a href="#qmodel" class="headerlink" title="qmodel"></a>qmodel</h2><ul>
<li>当其中的元素个数过多时崩溃</li>
<li>奇怪的同时拖拽不相关的元素</li>
</ul>
<h2 id="QPdfViewer"><a href="#QPdfViewer" class="headerlink" title="QPdfViewer"></a>QPdfViewer</h2><p>当放大很多倍时崩溃。</p>
<h1 id="Text-Editor"><a href="#Text-Editor" class="headerlink" title="Text Editor"></a>Text Editor</h1><h2 id="当最后一个字符后有一个长单字符串导致换行时，最后一个字符无法在当前行选中，需要在下一行中选中。"><a href="#当最后一个字符后有一个长单字符串导致换行时，最后一个字符无法在当前行选中，需要在下一行中选中。" class="headerlink" title="当最后一个字符后有一个长单字符串导致换行时，最后一个字符无法在当前行选中，需要在下一行中选中。"></a>当最后一个字符后有一个长单字符串导致换行时，最后一个字符无法在当前行选中，需要在下一行中选中。</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2024/01/14/QPainter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/14/QPainter/" class="post-title-link" itemprop="url">QPainter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-01-14 09:27:03 / 修改时间：12:14:22" itemprop="dateCreated datePublished" datetime="2024-01-14T09:27:03+08:00">2024-01-14</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="绘图设备"><a href="#绘图设备" class="headerlink" title="绘图设备"></a>绘图设备</h1><p>常见的有QWidget, QPixmap, QImage等(QWidget类及其子类是最常用的绘图设备)，作用是给QPainter提供一个“画布”。</p>
<h1 id="坐标系统"><a href="#坐标系统" class="headerlink" title="坐标系统"></a>坐标系统</h1><h2 id="物理坐标"><a href="#物理坐标" class="headerlink" title="物理坐标"></a>物理坐标</h2><h2 id="逻辑坐标"><a href="#逻辑坐标" class="headerlink" title="逻辑坐标"></a>逻辑坐标</h2><p>viewport坐标: 物理坐标的一个矩形区域。默认是整个Widget。<br>window坐标: 当实际绘图设备发生变化时，绘制的图形会自动变化大小。将viewport坐标用凭空给定的坐标<code>替代</code>, 不必知道viewport的大小。</p>
<h1 id="通过QPainter在绘图设备上画图"><a href="#通过QPainter在绘图设备上画图" class="headerlink" title="通过QPainter在绘图设备上画图"></a>通过QPainter在绘图设备上画图</h1><p>QWidget类及其子类有paintEvent()事件，重写此事件的相应代码即可在设备上绘图。其基本结构如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">void Widget::paintEvent(QPainterEvent *event)</span><br><span class="line">&#123;</span><br><span class="line">	QPainter painter(this);// 创建与绘图设备相关联的QPainter</span><br><span class="line">	//painter 在设备的窗口上绘图</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>绘图时，会用到QPainter的3个属性：</p>
<ol>
<li>pen:QPen对象，设置线条的颜色、宽度、线型。</li>
<li>brush:QBrush对象，设置区域的填充颜色、填充方式、渐变等。</li>
<li>font:QFont对象，设置文字的字体、大小等。</li>
</ol>
<p>可以在Qt中新建一个QWidget项目，并在头文件中声明对paintEvent的重写，在源文件中实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void Widget::paintEvent(QPaintEvent *event)</span><br><span class="line">&#123;</span><br><span class="line">    QPainter painter(this);</span><br><span class="line">    QPen pen;</span><br><span class="line">    QBrush brush;</span><br><span class="line"></span><br><span class="line">    painter.setRenderHint(QPainter::Antialiasing);</span><br><span class="line">    painter.setRenderHint(QPainter::TextAntialiasing);</span><br><span class="line"></span><br><span class="line">    // 要绘制的形状。通过QPainter进行绘制，但在绘制前应设置QPainter的pen和brush属性。</span><br><span class="line">    int w = this-&gt;width();</span><br><span class="line">    int h = this-&gt;height();</span><br><span class="line">    QRect rect(w / 4, h / 4, w / 2, h / 2);</span><br><span class="line"></span><br><span class="line">    // 设置pen</span><br><span class="line">    pen.setWidth(3);</span><br><span class="line">    pen.setColor(Qt::green);</span><br><span class="line">    pen.setStyle(Qt::SolidLine);	// 设置线条样式</span><br><span class="line">    pen.setCapStyle(Qt::FlatCap);	// 设置线条端点样式</span><br><span class="line">    pen.setJoinStyle(Qt::BevelJoin);	// 设置连接样式</span><br><span class="line">    painter.setPen(pen);</span><br><span class="line"></span><br><span class="line">    // 设置brush</span><br><span class="line">    brush.setColor(Qt::gray);</span><br><span class="line">    brush.setStyle(Qt::SolidPattern);</span><br><span class="line">    painter.setBrush(brush);</span><br><span class="line"></span><br><span class="line">    // 绘图</span><br><span class="line">    painter.drawRect(rect);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="绘制基本图形元件"><a href="#绘制基本图形元件" class="headerlink" title="绘制基本图形元件"></a>绘制基本图形元件</h1><p>在绘制图形元件时，不可避免的要进行数字计算。例如当我们要绘制一个五角星时，该怎样得到五角星每个顶点的坐标呢？</p>
<ol>
<li>首先我们将五角星放到圆内，那么圆心就是五角星的中心。我们假设五角星的某个点与圆心之间的连线是x轴，逆时针旋转90度的为y轴。因为圆心与五角星的五个顶点之间的连线将圆分成了5份，那么每一份的角度是72度。因此，其他的点的坐标就可以通过sin和cos计算出来。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">void Widget::paintEvent(QPaintEvent *event) </span><br><span class="line">&#123;</span><br><span class="line">	QPainter painter(this);</span><br><span class="line">	</span><br><span class="line">	qreal r = 100;</span><br><span class="line">	const qreal pi = 3.14159;</span><br><span class="line">	qreal deg = pi * 72 / 180;</span><br><span class="line">	QPoint points[5] = &#123;</span><br><span class="line">		QPoint(r, 0);</span><br><span class="line">		QPoint(r * std::cos(deg), r * std::sin(deg));</span><br><span class="line">		QPoint(r * std::cos(2 * deg), r * std::sin(2 * deg));</span><br><span class="line">		QPoint(r * std::cos(3 * deg), r * std::sin(3 * deg));</span><br><span class="line">		QPoint(r * std::cos(4 * deg), r * std::sin(4 * deg));</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	QPen pen;</span><br><span class="line">	pen.setColor(Qt::blue);</span><br><span class="line">	pen.setStyle(Qt::SolidLine);</span><br><span class="line">	pen.setCapStyle(Qt::FlatCap);</span><br><span class="line">	pen.setJoinStyle(Qt::BevelJoin);</span><br><span class="line">	painter.setPen(pen);</span><br><span class="line">	</span><br><span class="line">	QPainterPath starPath;</span><br><span class="line">	starPath.moveTo(points[0]);</span><br><span class="line">	starPath.moveTo(points[2]);</span><br><span class="line">	starPath.moveTo(points[4]);</span><br><span class="line">	starPath.moveTo(points[1]);</span><br><span class="line">	starPath.moveTo(points[3]);</span><br><span class="line">	starPath.closeSubpath();	//闭合路径</span><br><span class="line"></span><br><span class="line">	painter.save();</span><br><span class="line">	painter.translate(100, 120);</span><br><span class="line">	painter.drawPath(starPath);</span><br><span class="line">	painter.restore();</span><br><span class="line">	</span><br><span class="line">	painter.translate(300, 120);</span><br><span class="line">	painter.scale(0.8, 0.8);</span><br><span class="line">	painter.rotate(90);</span><br><span class="line">	painter.drawPath(starPath);</span><br><span class="line">	painter.restore();</span><br><span class="line">	</span><br><span class="line">	painter.resetTransform();</span><br><span class="line">	painter.translate(500, 120);</span><br><span class="line">	painter.rotate(-145);</span><br><span class="line">	painter.drawPath(starPath);</span><br><span class="line">&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="坐标变换"><a href="#坐标变换" class="headerlink" title="坐标变换"></a>坐标变换</h1><p>逻辑坐标系统：你可以决定绘图设备上的某个点作为原点，以此原点建立的坐标系是逻辑坐标。</p>
<ol>
<li>translate(qreal dx, qreal dy):将原点通过dx和dy<code>偏移量</code>移动到新的点。</li>
<li>rotate(qreal angle):坐标系统顺时针旋转angle角度。</li>
<li>scale(qreal sx, qreal sy):坐标系统缩放。</li>
<li>resetTransform():复位所有的坐标变换。</li>
<li>save():将painter当前状态压入堆栈。</li>
<li>restore():从堆栈中恢复上一次的状态。</li>
</ol>
<h1 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h1><h3 id="为什么QGradient子类可以作为QBrush传递给QPainter？"><a href="#为什么QGradient子类可以作为QBrush传递给QPainter？" class="headerlink" title="为什么QGradient子类可以作为QBrush传递给QPainter？"></a>为什么QGradient子类可以作为QBrush传递给QPainter？</h3><p>因为QBrush中包含构造函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QBrush(const QGradient &amp;gradient);</span><br></pre></td></tr></table></figure>
<p>所以，当给painter.setBrush(gradient)时，会自动将gradient构造成QBrush对象。</p>
<h3 id="为什么QPainter-QBrush-QPen这些对象保存到栈中，而非堆中？"><a href="#为什么QPainter-QBrush-QPen这些对象保存到栈中，而非堆中？" class="headerlink" title="为什么QPainter,QBrush,QPen这些对象保存到栈中，而非堆中？"></a>为什么QPainter,QBrush,QPen这些对象保存到栈中，而非堆中？</h3><p>因为Qt通过使用画布上的像素点来表现图形，将图像保存到绘图设备上，直到该绘图设备被销毁或者图形被重新绘制。</p>
<h1 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h1><h2 id="线条样式"><a href="#线条样式" class="headerlink" title="线条样式"></a>线条样式</h2><ol>
<li>Qt::SolidLine</li>
<li>Qt::DashLine</li>
<li>Qt::DotLine</li>
<li>Qt::DashDotLine</li>
<li>Qt::DashDotDotLine</li>
<li>Qt::CustomDashLine</li>
</ol>
<h2 id="线条端点样式"><a href="#线条端点样式" class="headerlink" title="线条端点样式"></a>线条端点样式</h2><ol>
<li>Qt::SquareCap	&#x2F;&#x2F; 线条端点是矩形棱角，端点是方正的</li>
<li>Qt::FlatCap		&#x2F;&#x2F; 线条断点也是棱角，但是是倾斜的。</li>
<li>Qt::RoundCap		&#x2F;&#x2F; 线条断点是圆角</li>
</ol>
<h2 id="线条连接样式"><a href="#线条连接样式" class="headerlink" title="线条连接样式"></a>线条连接样式</h2><ol>
<li>Qt::BevelJoin	&#x2F;&#x2F; 线条连接部分有棱角，但是不是尖锐的。</li>
<li>Qt::MiterJoin	&#x2F;&#x2F; 线条连接部分有棱角，并且是尖锐的。</li>
<li>Qt::RoundJoin	&#x2F;&#x2F; 线条连接部分是圆角。</li>
</ol>
<h2 id="画刷样式"><a href="#画刷样式" class="headerlink" title="画刷样式"></a>画刷样式</h2><ol>
<li>Qt::NoBrush			&#x2F;&#x2F; 无填充</li>
<li>Qt::SolidPattern		&#x2F;&#x2F; 单一颜色填充</li>
<li>Qt::HorPattern		&#x2F;&#x2F; 水平线填充</li>
<li>Qt::VerPattern		&#x2F;&#x2F; 垂直线填充</li>
<li>Qt::LinearGradientPattern	&#x2F;&#x2F; 线性渐变</li>
<li>Qt::RadialGradientPattern	&#x2F;&#x2F; 辐射渐变</li>
<li>Qt::ConicalGradientPattern	&#x2F;&#x2F; 圆锥形渐变</li>
<li>Qt::TexturePattern		&#x2F;&#x2F; 材质填充</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2023/05/12/mergesort/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/12/mergesort/" class="post-title-link" itemprop="url">归并排序</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-05-12 19:27:30 / 修改时间：19:31:31" itemprop="dateCreated datePublished" datetime="2023-05-12T19:27:30+08:00">2023-05-12</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="归并排序模板"><a href="#归并排序模板" class="headerlink" title="归并排序模板"></a>归并排序模板</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> temp[], <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> m = l + r &gt;&gt; <span class="number">1</span>, i = l, j = m + <span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, l, m);</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= m &amp;&amp; j &lt;= r) </span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt; q[j]) temp[k++] = q[i++];</span><br><span class="line">        <span class="keyword">else</span> temp[k++] = q[j++];</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= m) temp[k++] = q[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) temp[k++] = q[j++];</span><br><span class="line">    <span class="keyword">for</span> (i = l, j = <span class="number">0</span>; i &lt;= r; i++, j++) q[i] = temp[j];</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol>
<li>首先递归到<code>最底层</code>，即<code>l : r</code>限定的范围中只有一个元素。</li>
<li>对数列<code>q[l : m]</code>和<code>q[m + 1 : r]</code>中的数进行比较，这两个数列内部已经是按照从小到大排列的了。该步骤需要一个临时数组<code>temp</code>，长度为<code>r - l + 1</code>, 将两个有序数组合并成一个有序数组。</li>
<li>将各数组中<code>剩下的元素</code>保存到temp数组中。</li>
<li>将temp数组中的元素<code>覆盖原数组</code>。</li>
</ol>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>注意边界问题，<code>l : m</code> 属于第一个数列，<code>m + 1 ：r</code> 属于第二个数列，在<code>while</code>循环中都要遍历到边界值(分别是<code>m</code> 和 <code>r</code>)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2023/05/12/binarysearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/12/binarysearch/" class="post-title-link" itemprop="url">二分检索</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-05-12 19:17:15" itemprop="dateCreated datePublished" datetime="2023-05-12T19:17:15+08:00">2023-05-12</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="二分检索介绍"><a href="#二分检索介绍" class="headerlink" title="二分检索介绍"></a>二分检索介绍</h1><p>二分检索的核心<code>不在于</code>数列是递增的，而在于数列可以按照某个条件按<code>真假</code>值分两个部分。在每一次循环或递归，解的范围都能够缩小一半。</p>
<h1 id="整数二分检索模板"><a href="#整数二分检索模板" class="headerlink" title="整数二分检索模板"></a>整数二分检索模板</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">binary_search</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> target, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">left_check</span>(mid)) l = mid;</span><br><span class="line">    <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">binary_search</span>(q, target, l, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要点：当满足左半边的条件时，说明要查找的元素在<code>mid加上右半边</code>，此时应该将<code>l</code>更新为<code>mid</code>。为了不出现死循环，注意<code>l</code>和<code>r</code>的中间节点<code>mid</code>应该<code>向上取整</code>，来保证<code>l</code>的值会发生<code>更新</code>；而<code>mid &lt;= r</code>，若不满足<code>左半边条件</code>，<code>r</code>的值一定会发生更新，不会出现死循环。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">binary_search</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> target, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">right_check</span>(mid)) r = mid;</span><br><span class="line">    <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">binary_search</span>(q, target, l, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要点：相似的，当满足右半边的条件时，说明要查找的元素在<code>mid加上左半边</code>，此时应该将<code>r</code>更新为<code>mid</code>。此时<code>mid</code>应该<code>向下取整</code>，来保证<code>r</code>的值会发生<code>更新</code>；而<code>mid &gt;= l</code>，若不满足<code>右半边条件</code>，<code>l</code>的值一定会发生更新，不会出现死循环。</p>
<h1 id="浮点数二分检索模板（开方）"><a href="#浮点数二分检索模板（开方）" class="headerlink" title="浮点数二分检索模板（开方）"></a>浮点数二分检索模板（开方）</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">binary_search</span><span class="params">(<span class="type">double</span> target, <span class="type">double</span> l, <span class="type">double</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;           <span class="comment">//不能右移</span></span><br><span class="line">    <span class="keyword">while</span> (r - l &lt; <span class="number">1e-8</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mid * mid &gt; target) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2023/05/05/writing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/05/writing/" class="post-title-link" itemprop="url">文档写作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-05-05 20:08:56" itemprop="dateCreated datePublished" datetime="2023-05-05T20:08:56+08:00">2023-05-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="写作前"><a href="#写作前" class="headerlink" title="写作前"></a>写作前</h1><h2 id="了解读者"><a href="#了解读者" class="headerlink" title="了解读者"></a>了解读者</h2><h3 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h3><ul>
<li>保证文档可用性<br><code>目的读者</code>应该能看懂文档，并且能用文档<code>完成任务</code>。</li>
</ul>
<h3 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h3><ul>
<li>明确读者<code>身份</code></li>
<li>明确读者<code>阅读目的</code><br>设计思路？我想要知道怎样使用！</li>
<li>明确读者<code>所需信息</code></li>
</ul>
<p>作者在写作的过程中要清楚自身和读者之间的认知差异(信息差)，写文档时要尽量弥补。同时写文档时应使用标准的<code>术语</code>，同一个意思尽量用<code>同一个词</code>表达，在必要时提供<code>及时的术语解释</code>。<br>信息差来源：相似物（解释不同点）、新的事物（解释其来源）。</p>
<h3 id="如何了解读者"><a href="#如何了解读者" class="headerlink" title="如何了解读者"></a>如何了解读者</h3><ul>
<li>邀请同事评审</li>
<li>读者访谈</li>
<li>文档支持群</li>
<li>想象用户阅读过程，读者从哪里来？读者在哪？读者要到哪里去？</li>
</ul>
<h1 id="写作中"><a href="#写作中" class="headerlink" title="写作中"></a>写作中</h1><h2 id="结构化写作-谋篇布局，体现内容联系"><a href="#结构化写作-谋篇布局，体现内容联系" class="headerlink" title="结构化写作: 谋篇布局，体现内容联系"></a>结构化写作: 谋篇布局，体现内容联系</h2><ol>
<li>搭建框架: 使用结构化的框架思维。<blockquote>
<p>论：<code>结论</code>先行: 开门见山，把核心观点或中心思想放在文档开头位置<br> 证：以<code>上</code>统<code>下</code>：上层概括总结，下层具体解释说明<br> 类：<code>归类</code>分组：相关联的信息按一定标准分类<br> 比：逻辑<code>递进</code>：按逻辑顺序递进排列素材</p>
</blockquote>
</li>
</ol>
<ul>
<li>理清信息之间的<code>逻辑关系</code>。</li>
<li>把无序的信息排列成<code>有序信息</code>。</li>
<li>创造逻辑且顺畅的信息流</li>
<li>有逻辑有条理地<code>提炼</code>和<code>组织</code>内容</li>
</ul>
<ol start="2">
<li>填充必要信息</li>
<li>巧用<code>结构化呈现</code>：有序列表、无序列表、表格等<br>不要把<code>重要信息</code>淹没在文档中。</li>
</ol>
<h2 id="如何写好标题：SPA原则"><a href="#如何写好标题：SPA原则" class="headerlink" title="如何写好标题：SPA原则"></a>如何写好标题：SPA原则</h2><p><strong>SPA: Simple, Profit, Accurate</strong><br><strong>简明扼要、利益相关、客观准确</strong><br>写作内容常常由于思考的深度而逐渐改动</p>
<ol>
<li>总标题：文档<code>核心</code>内容</li>
<li>副标题：对总标题加以<code>补充</code></li>
<li>分标题（分级标题，显示<code>文档层次</code>）<br>经验：标题<code>简短</code>的浏览量高。<blockquote>
<p>概念型文档：《A概述》《A原理》<br> 任务型：《A工具的安装》<br> 参考型：《xx安装要求》</p>
</blockquote>
</li>
</ol>
<h2 id="极简写作"><a href="#极简写作" class="headerlink" title="极简写作"></a>极简写作</h2><p>用<code>简洁有力</code>的文字表达<br>好处：节省时间、易于理解、减少成本<br>条件：结论先行</p>
<h3 id="保持一致"><a href="#保持一致" class="headerlink" title="保持一致"></a>保持一致</h3><p>要尽量保证读者的体验一致性，便于读者迁移<code>阅读经历</code>。</p>
<h3 id="避免罗嗦"><a href="#避免罗嗦" class="headerlink" title="避免罗嗦"></a>避免罗嗦</h3><p>尽量避免<code>口语话</code>表达。</p>
<h3 id="提供路标和索引"><a href="#提供路标和索引" class="headerlink" title="提供路标和索引"></a>提供路标和索引</h3><ol>
<li>指引方式应多样化。</li>
<li>指示要说清楚。</li>
<li>应告诉读者做某件事的预期结果。</li>
</ol>
<h1 id="写作后"><a href="#写作后" class="headerlink" title="写作后"></a>写作后</h1><h2 id="如何检查文档"><a href="#如何检查文档" class="headerlink" title="如何检查文档"></a>如何检查文档</h2><p><strong>写作和检查的区别</strong><br>写作：以<code>创作者</code>的角度尽可能表达和呈现信息。<br>检查：以<code>批判者</code>的角度审视已经写好的内容。</p>
<p><strong>要检查哪些内容</strong><br>写作完成后应该先冷却一段时间再进行，以全新的视角审视自己的文档。</p>
<ol>
<li>主题。检查主题是否明确。</li>
<li>结构。检查结构是否清晰。</li>
<li>标题。是否符合SPA原则</li>
<li>内容。文字表述是否简单清晰。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://gravelgalaxy.github.io/2023/04/27/compare/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="gravelGalaxy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gravel Galaxy">
      <meta itemprop="description" content="燕山大学">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Gravel Galaxy">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/27/compare/" class="post-title-link" itemprop="url">优先队列的自定义比较器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-04-27 22:19:18 / 修改时间：22:25:05" itemprop="dateCreated datePublished" datetime="2023-04-27T22:19:18+08:00">2023-04-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="什么是自定义比较器"><a href="#什么是自定义比较器" class="headerlink" title="什么是自定义比较器"></a>什么是自定义比较器</h1><blockquote>
<p>A binary predicate that takes two elements (of type T) as arguments and returns a bool.<br>The expression comp(a, b), where <em>comp</em> is an object of this type and <em>a</em> and <em>b</em> are elements in the container, shall return <strong>true</strong> if <em>a</em> is considered to go before <em>b</em> in the <em>strict weak ordering</em> the function defines.<br>The <code>priority_queue</code> uses this function to maintain the elements sorted in a way that preserves heap properties(i.e., that the element popped is the last according to this <em>strict weak ordering</em>).<br>This can be a function pointer or a function object, and defaults to <code>less&lt;T&gt;</code>, which returns the same as applying the <em>less-than</em> operator(<code>a &lt; b</code>).</p>
</blockquote>
<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><p><code>container</code>即容器，像<code>queue</code>、<code>vector</code>、<code>list</code>都表示一个容器。<br><code>strict weak ordering</code>(严格弱序)，即重载的运算符需要满足的三个条件：</p>
<ol>
<li><strong>strict</strong>: 对于表达式<code>s &lt; s</code>，必须返回<code>false</code>。</li>
<li><strong>weak</strong>: 如果表达式<code>s &lt; t</code>和表达式<code>t &lt; s</code>都返回<code>false</code>，则<code>s == t</code>。</li>
<li><strong>ordering</strong>: 如果有<code>s &lt; t</code>且<code>t &lt; z</code>，则有<code>s &lt; z</code>。</li>
</ol>
<h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2><ol>
<li>要接受两个参数，返回一个bool值。</li>
<li>comp要是一个函数对象，也可以是一个函数指针。定义函数对象&#x2F;比较器是本文的主要内容。</li>
<li>当比较器返回<code>true</code>时，<code>a</code>和<code>b</code>的位置不变；反之<code>a</code>和<code>b</code>交换位置。像优先队列中如果比较器是<code>less&lt;T&gt;</code>，当插入一个元素时该元素首先被放在堆的末尾，紧接着该元素作为<code>a</code>，其父节点作为<code>b</code>，如果<code>a &lt; b</code>那么新的节点&#x2F;元素与父节点之间不交换位置，如此可以构建一个大顶堆。</li>
</ol>
<h1 id="自定义比较器的方法"><a href="#自定义比较器的方法" class="headerlink" title="自定义比较器的方法"></a>自定义比较器的方法</h1><p>通过不同方法定义的比较器，在使用时也会有<strong>差异</strong>。</p>
<h2 id="方法一：通过struct重载运算符"><a href="#方法一：通过struct重载运算符" class="headerlink" title="方法一：通过struct重载运算符()"></a>方法一：通过struct重载运算符<code>()</code></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义比较器</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">cmp</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//在优先队列中使用该比较器</span></span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt;, cmp&gt; pq;</span><br></pre></td></tr></table></figure>
<h2 id="方法二：通过class重载运算符"><a href="#方法二：通过class重载运算符" class="headerlink" title="方法二：通过class重载运算符()"></a>方法二：通过class重载运算符<code>()</code></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">cmp</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt;, cmp&gt; pq;</span><br></pre></td></tr></table></figure>
<h2 id="方法三：通过定义函数并转为函数指针的方式来自定义比较器"><a href="#方法三：通过定义函数并转为函数指针的方式来自定义比较器" class="headerlink" title="方法三：通过定义函数并转为函数指针的方式来自定义比较器"></a>方法三：通过定义函数并转为函数指针的方式来自定义比较器</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span> <span class="params">(pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt;, <span class="keyword">decltype</span>(&amp;cmp)&gt; <span class="built_in">pq</span>(cmp);</span><br></pre></td></tr></table></figure>
<h2 id="方法四：使用Lambda表达式"><a href="#方法四：使用Lambda表达式" class="headerlink" title="方法四：使用Lambda表达式"></a>方法四：使用Lambda表达式</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> cmp = [](pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;b) -&gt; <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt;, <span class="keyword">decltype</span>(cmp)&gt; <span class="built_in">pq</span>(cmp);</span><br></pre></td></tr></table></figure>
<h2 id="方法五：通过funcion包装Lambda表达式"><a href="#方法五：通过funcion包装Lambda表达式" class="headerlink" title="方法五：通过funcion包装Lambda表达式"></a>方法五：通过funcion包装Lambda表达式</h2><p>需要头文件<code>#include &lt;functional&gt;</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function &lt;<span class="type">bool</span> (pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&amp;, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&amp;)&gt; cmp = [] (pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; &amp;b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt;, <span class="keyword">decltype</span>(cmp)&gt; <span class="built_in">pq</span>(cmp);</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">gravelGalaxy</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
